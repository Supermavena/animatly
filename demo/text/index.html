<!DOCTYPE html>
<html style="width: 100%;height: 100%">
<head>
     <script src="../../build/player/lottie.js"></script>
</head>

<body style="background-color:#ccc; margin: 0;height: 100%;">

<div style="width:1024px;height:1024px;background-color:#333;position: absolute;left:0;right:0;top:0;bottom:0;margin:auto" id="bodymovin"></div>

<div style="display:inline;">Sample:</div>
<select id="sample_select" onchange="reload_animation()">
  <option value="basic.json" selected>Basic line and paragraph</option>
  <option value="rtl.json">RTL</option>
  <option value="bidi.json">BiDi</option>
  <option value="transform.json">Transformed</option>
</select>
<br>

<div style="display:inline;">Shaper:</div>
<select id="shaper_select" onchange="reload_animation()">
  <option value="lottie">Lottie (legacy)</option>
  <option value="skia">Skia (awesome)</option>
</select>

<script>
  const sample_select = document.getElementById('sample_select');
  const shaper_select = document.getElementById('shaper_select');
  const url_params = new URLSearchParams(window.location.search);
  const sample = (new URLSearchParams(window.location.search)).get('sample');

  if (sample) {
    sample_select.value = sample;
  }

  bodymovin.setSubframeRendering(false);

  let anim_data = {
    wrapper: document.getElementById('bodymovin'),
    animType: 'html',
    loop: true,
    prerender: true,
    autoplay: true
  };

  function reload_animation() {
    anim_data.path = sample_select.value;
    bodymovin.loadAnimation(anim_data);

    window.setSkia = shaper_select.value === 'skia' ? 1 : 0;
  }

  reload_animation();
</script>
</body>
</html>
